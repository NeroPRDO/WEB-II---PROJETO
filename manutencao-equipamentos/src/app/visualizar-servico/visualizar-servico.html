<app-nav></app-nav>

<div class="container">
  <h2 class="titulo">Detalhes da Solicitação</h2>

  <section class="detalhes">
    @for(solicitacao of solicitacoes; track solicitacao.id){
    <div><strong>Serviço:</strong>{{solicitacao.servico}}</div>
    <div><strong>Cliente:</strong> Razer Montanõ</div>
    <div><strong>Status:</strong> {{solicitacao.estado}}</div>
    <div><strong>Valor:</strong> R$ 150,00</div>
    <div><strong>Data de Abertura:</strong>{{solicitacao.dataHora}}</div>
    <div><strong>Equipamento:</strong> {{solicitacao.equipamento}}</div>
    <div><strong>Categoria:</strong> {{solicitacao.categoria}}</div>
    <div><strong>Descrição:</strong> {{solicitacao.descricao}}.</div>

    <section class="historico">
      <h3>Histórico de Andamentos</h3>
      <ul>
        <li>
          <span class="data">10/09/2025 09:15</span>
          <span class="acao">Solicitação criada</span>
          <span class="funcionario">por Razer Montaño</span>
        </li>
        <li>
          <span class="data">11/09/2025 14:30</span>
          <span class="acao">Análise inicial concluída</span>
          <span class="funcionario">por Pedro Oliveira</span>
        </li>
        <li>
          <span class="data">12/09/2025 10:00</span>
          <span class="acao">Execução iniciada</span>
          <span class="funcionario">por Ana Lima</span>
        </li>
      </ul>
    </section>

    <section class="acoes">
      <button class="btn btn-secondary" routerLink="/">Voltar</button>
      @switch (solicitacao.estado) {
      @case ('ORÇADA') {
      <div>
        <button class="button-aprovar" routerLink="/servicos">Visualizar Orçamento</button>
      </div>
      }
      @case ('APROVADA') {

      }
      @case ('REJEITADA') {
      <div>
        <button class="button-resgatar" onclick="alert('Serviço Passou para APROVADO')">Resgatar Serviço</button>
      </div>

      }
      @case ('ARRUMADA') {
      <div>
        <button class="button-pagar" routerLink="/pagamento">Pagar Serviço</button>

      </div>
      }
      @default {
      <button class="button-verDetalhes">Ver Detalhes</button>
      <button class="button-visualizar" routerLink="visualizar-servico">Solicitação</button>
      }
      }
    </section>

    }
  </section>
</div>