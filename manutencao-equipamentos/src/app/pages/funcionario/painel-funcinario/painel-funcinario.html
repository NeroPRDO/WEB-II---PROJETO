<app-nav></app-nav>

<div class="container m-top">
    <div class="row justify-content-center painel-funcionario">
        <div class="col-3">
            <painel-acoes-funcionario />
        </div>
        <div class="col-8">
            <panel>
                <h3 class="text-center">Chamados Abertos</h3>

                <div class="filtros-chamados">
                    <span>Mostrar</span>
                    <select class="form-select form-select-sm" aria-label="Small select example">
                        <option value="1">Todas</option>
                        <option value="1">Abertas Hoje</option>
                        <option value="2">Periodo</option>
                    </select>
                </div>
                <ng-template #templateEditar let-row let-emitter="emitter">
                    <div class="template-center">
                        <button class="btn btn-branco" (click)="emitter.emit(row)">editar</button>
                    </div>
                </ng-template>
                <ng-template #templateCodigo let-row>
                    <div class="template-center">
                        {{ row.codigo }}
                    </div>
                </ng-template>
                <app-table-chamado (action)="openOrcamentoModal($event)" [colunas]="[
                    { id: 'cliente', header: 'CLIENTE'},
                    { id: 'estado', header: 'ESTADO',  headerStyle: 'col-2'},
                    { id: 'descricao', header: 'DESCRIÇÃO'},
                    { id: 'data_chamado', header: 'DATA', headerStyle: 'col-2'},
                    { id: 'acao', header: 'AÇÃO', render: templateEditar, headerStyle: 'col-2 text-center'}
                ]" [data]="chamados" />
            </panel>
        </div>
    </div>
    @if (orcamentoModalVisible) {
    <app-modal (closeModalEvent)="closeOrcamentoModal()">
        <app-efetuar-orcamento (close)="closeOrcamentoModal()" [id]="selectedChamado"></app-efetuar-orcamento>
    </app-modal>
    }

</div>
