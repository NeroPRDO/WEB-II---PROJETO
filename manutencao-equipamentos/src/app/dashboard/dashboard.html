<app-nav></app-nav>
<section>
    <div class="title">
        <div class="chamada-title">
            <h1>Solicitações</h1>
        </div>

        <button class="button" routerLink="cadastro-atendimento">+ Solicitação</button>
    </div>

    <!-- Tabela de solicitações -->
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>dataHora</th>
                <th>descricao</th>
                <th>estado</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            @for (solicitacao of data; track solicitacao.id) {
            <tr>
                <td>{{ solicitacao.id }}</td>
                <td>{{ solicitacao.dataHora }}</td>
                <td>{{ solicitacao.descricao }}</td>
                <td>{{ solicitacao.estado }}</td>
                <td>
                    @switch (solicitacao.estado) {
                    @case ('ORÇADA') {
                    <div>
                        <button class="button-visualizar" (click)="enviar('ORÇADA')"
                            routerLink="visualizar-servico">Solicitação</button>
                    </div>
                    }
                    @case ('APROVADA') {
                    <button class="button-visualizar" (click)="enviar('APROVADA')"
                        routerLink="visualizar-servico">Solicitação</button>
                    }
                    @case ('REJEITADA') {
                    <div>
                        <button class="button-visualizar" (click)="enviar('REJEITADA')"
                            routerLink="visualizar-servico">Solicitação</button>
                    </div>

                    }
                    @case ('ARRUMADA') {
                    <div>
                        <button class="button-visualizar" (click)="enviar('ARRUMADA')"
                            routerLink="visualizar-servico">Solicitação</button>
                    </div>

                    }
                    @default {
                    <button class="button-verDetalhes">Ver Detalhes</button>
                    }
                    }
                </td>
            </tr>
            }
        </tbody>
    </table>

</section>